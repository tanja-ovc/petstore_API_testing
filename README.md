# Проект автотестов зоомагазина

### Тестируемый API: https://petstore.swagger.io

### Стек

Python3.12, Pytest, requests

### Архитектура

Тесты разделены по приложениям (pet, store, user), внутри 
которых они также разбиты на модули по смыслу (e. g. CRUD-операции, остальные операции и т. п.). Внутри почти каждого 
модуля есть классы, продолжающие идею разделения тестов по смыслу (e. g. тестирование на валидных данных, тестирование 
на невалидных данных и т. п.). Фикстуры также разделены: есть общие для всех тестов, есть относящиеся к одному приложению 
или классу.

### Опора на спецификацию

Понимание того, каким должен быть ожидаемый результат, я старалась брать из спецификации API. Однако в ней 
присутствует не вся необходимая информация. 

Например, из спецификации ясно, что  статус-код успешного ответа по 
эндпоинту petstore.swagger.io/v2/store/inventory - 200. Но статус-код успешного ответа по эндпоинту /store/order/{orderId} 
не указан в принципе (200, 204?..). Также следовало бы прояснить процесс аутентификации для того, чтобы писать 
полноценные тесты.

В ситуациях недостатка информации я опиралась на предположения на основе 
стандартов разработки API, здравый смысл и реальные результаты запросов. Например, после тестирования руками я увидела, 
что статус-код успешного удаления - 200, и использовала его в своих тестах. Поэтому какие-то из asserts в тестах 
основаны на моих предположениях о том, как это должно было бы работать. Конечно, в условиях реальной работы 
я бы сначала поговорила с разработчиками и запросила недостающую информацию, только потом начала бы писать какие-либо 
тесты.

Языком докстрингов и комментариев выбран английский, так как именно на нём написана спецификация.

### Локальный запуск проекта

Клонируйте репозиторий

по HTTPS:

```
git clone https://github.com/tanja-ovc/api_for_yatube.git
```

либо по SSH:

```
git clone git@github.com:tanja-ovc/petstore_API_testing.git
```

Из корня проекта создайте виртуальное окружение:

```
python3.12 -m venv venv
```

Активируйте виртуальное окружение:

* Для Linux/Mac:
 
    ```
    source venv/bin/activate
    ```

* Для Windows:

    ```
    source venv/Scripts/activate
    ```

Убедитесь, что выбран нужный интерпретатор Python.

При необходимости обновите pip:

```
pip install --upgrade pip
```

Установите зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

### Запуск тестов

Запуск всех тестов сразу можно осуществить командой 
```
pytest -v --tb=short
```
(аргументы ```-v``` и ```--tb=short``` 
используются для лучшей читаемости вывода).

Пример результата запуска:

<img width="1189" alt="Screenshot 2024-08-23 at 01 21 52" src="https://github.com/user-attachments/assets/34710bac-b206-458c-806b-34347d18e3df">
